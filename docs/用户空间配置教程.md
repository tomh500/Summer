 # 🎮 CS2 用户空间配置文件夹详解  
  这里详细介绍CS2用户空间的配置文件及GSI服务相关内容，方便你精准理解和操作。

 ## 🗂️ 配置文件列表与用途  （已弃用，请使用监听器的Asul_Editor功能编辑，打开CFG主程序，并在文件菜单内找到用户空间->快速编辑）
  CS2用户空间包含若干配置文件：  
 - `UserKeyBinds.cfg` ：用于更改按键绑定  
 - `UserSetting.cfg` ：用于更改个人偏好设置  
 - `UserValue.cfg` ：用于修改数值相关配置  
 - `UserKZMode.cfg` ：专门用于修改KZ模式下的绑定（通过命令 `/kz_mode` 进入KZ模式后生效）  

 ## 📁 GSI文件夹与 `config.json` 文件  
  GSI服务的配置主要在 `config.json` 文件中，该文件位于GSI文件夹下。  
  该文件中包含一个 `__comments` 字段，这部分是注释内容，不会影响配置的实际生效，主要用于帮助你理解每个键的作用。  
  你可以对照这些注释来修改实际的配置数值。  

 ## 🎵 音效文件说明与放置方式  
  为了让CS2的音效功能正常工作，请按以下说明准备音效文件并放入```gsi/sounds```文件夹：  
 - 击杀音效：  
   - 文件名分别为 `1.wav`、`2.wav`、`3.wav`、`4.wav`、`5.wav`（也可为`.ogg`格式，取决于`config.json`中的`ogg`配置）  
   - 这五个音效文件按顺序对应1杀到5杀的音效  
 - 自定义音乐包音效：  
   - 包括以下文件，依次对应特定事件音效  
     - `mvp.wav` ：MVP音效  
     - `win.wav` ：胜利音效  
     - `lose.wav` ：失败音效  
     - `round.wav` ：回合开始音效  
     - `buy.wav` ：回合准备音效  
     - `death.wav` ：被击杀音效  
     - `gameover.wav` ：比赛结束音效  
  你可以只放入你需要的音频文件，某些音频文件缺失时，SDL会在控制台抛出异常信息，但不会影响其他音效的正常使用。

 ## ⚙️ `config.json` 示例及各项配置说明  
  下面是一个示范 `config.json` 文件内容：  
 ```json
 {
   "__comments": {
     …………
   },
   "match": true,
   "mvp": true,
   "vol": 1.0,
   "ogg": false,
   "custom_musickit": false,
   "custom_flashbang": false,
   "low_memory": false
 }
 ```  
 ### 详细说明：  
 - `"match"`：布尔值，表示匹配状态。此键为远古版本遗留标记，为确保GSI服务正常运行，请保持 `true`。虽然已经被其他键接管，但请勿更改。  
 - `"mvp"`：布尔值，和 `"match"` 类似，也为旧版遗留标记，同样请保持 `true`。  
 - `"vol"`：浮点数，取值范围是 (0.0 , 1.0]，表示音量的倍率。  
   - SDL限制音量不能超过音频原文件的大小，所以如果你想调节音量大小，建议使用 `ffmpeg` 工具修改音频原文件的音量。  
   - 我们为你准备了一个简单的Python脚本，放在 `sounds` 文件夹内。  
   - 当你正确安装并配置好 `ffmpeg` 环境变量后，该脚本可以帮助你轻松调整音频音量。  
 - `"ogg"`：布尔值，表示音频文件格式。  
   - `false` 表示使用 `.wav` 格式音频，`true` 表示使用 `.ogg` 格式。  
   - 如果你开启 `.ogg` 格式，必须保证音频文件为正确格式，否则SDL可能无法播放。  
   - 我们发现一个偏方是：如果直接用 `ffmpeg` 从网络视频转换 `.ogg` 可能会失败，建议先转为 `.mp3`，再转 `.wav` 或 `.ogg`。  
 - `"custom_musickit"`：布尔值，表示是否启用自定义音乐包功能。  
   - 若设置为 `false`，GSI服务将不会加载和读取自定义音乐包相关音频，避免不必要的资源浪费。  
 - `"custom_flashbang"`：布尔值，表示是否启用闪光弹叠加页面功能。  
   - 如果开启，当你被闪光弹致盲时，GSI服务会尝试加载 `images` 文件夹中的 `flash.bmp` 图片覆盖屏幕，实现伪自定义闪光效果。  
   - 若需要此功能，请准备一张名为 `flash.bmp` 的图片放入 `images` 文件夹。  
 - `"low_memory"`：布尔值，决定GSI服务的内存使用策略。  
   - `false` 表示正常模式，GSI服务会预加载所有音频资源到内存，播放时直接调用内存数据，降低延迟，提升性能。  
     - 缺点是内存占用较大，尤其是WAV格式音频文件较大，所有音频文件都会被加载，可能导致内存占用超过100MB。  
     - 在低内存设备上，这种模式可能导致严重卡顿或崩溃。  
   - `true` 表示低内存模式，GSI服务不会预加载音频，每次播放时都从硬盘读取。  
     - 优点是大幅降低内存占用，并且支持音频文件热插拔，无需重启GSI服务即可更新音频。  
     - 缺点是增加硬盘I/O，导致播放延迟更高，系统可能卡顿，且频繁读取会增加硬盘磨损，尤其是SSD。  
   - 请根据自身设备硬件情况合理选择此项。  

 ## 🛠️ 其他重要提示  
 - 请合理调整音量倍率 `vol`，避免超过SDL音频播放限制。  
 - 若要修改音量，请使用 `ffmpeg` 配合Python脚本来调整音频文件本身，而非依赖程序内调节。  
 - 自定义音频文件请确保格式正确且质量合适，避免播放失败。  
 - 若启用自定义闪光弹效果，图片必须是 `flash.bmp` 并放入 `images` 文件夹。  
 - 低内存模式适合硬件资源受限或需动态更换音效的情况，但可能会影响系统流畅度。  
 - 不同格式音频的兼容性问题请优先尝试 `.wav` 格式，`.ogg` 格式可能需要额外处理编码问题。  

 ---  
  如有更多疑问，请移步到我们的discord社区论坛
